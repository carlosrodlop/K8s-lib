---
#cdhost: &cdhost cdro.ps.beescloud.com

#---------------------------------------------
# Database configuration section
#---------------------------------------------

database:
  dbName: "flow"
  dbUser: "flow"
  dbPassword: "flow"
  dbType: "mysql"
  dbPort: 3306
  clusterEndpoint: "mysql.db.svc.cluster.local"
  mysqlConnector:
    enabled: true

#---------------------------------------------
# Flow server license configuration optional section
#---------------------------------------------

# Requires a Secret
# flowLicense:
#   existingSecret: cd-license

##---------------------------------------------
## Flow server admin credentials section
##---------------------------------------------

flowCredentials:
  adminPassword: "admin"

#---------------------------------------------
# SDA
#---------------------------------------------

sda: false

##---------------------------------------------
## Flow components/workloads configuration section
##---------------------------------------------

server:
  expose: true
  externalService:
    enabled: false
  resources:
    limits:
      cpu: 4
      memory: 8Gi
    requests:
      cpu: 2
      memory: 8Gi
  nodeSelector:
    ci_type: cb-apps
  tolerations:
    - key: dedicated
      operator: Equal
      value: cb-apps
      effect: NoSchedule

jobInit:
  nodeSelector:
    ci_type: cb-apps
  tolerations:
    - key: dedicated
      operator: Equal
      value: cb-apps
      effect: NoSchedule

web:
  nodeSelector:
    ci_type: cb-apps
  tolerations:
    - key: dedicated
      operator: Equal
      value: cb-apps
      effect: NoSchedule

repository:
  nodeSelector:
    ci_type: cb-apps
  tolerations:
    - key: dedicated
      operator: Equal
      value: cb-apps
      effect: NoSchedule

dois:
  nodeSelector:
    ci_type: cb-apps
  tolerations:
    - key: dedicated
      operator: Equal
      value: cb-apps
      effect: NoSchedule

boundAgent:
  nodeSelector:
    ci_type: cb-apps
  tolerations:
    - key: dedicated
      operator: Equal
      value: cb-apps
      effect: NoSchedule

##---------------------------------------------
## Agent configuration section
##---------------------------------------------

internalGatewayAgent:
  enabled: true

externalGatewayAgent:
  enabled: true
  externalService:
    enabled: true
  service:
    # Set the host name same as ingress.host .
    publicHostName: ${hostname}
